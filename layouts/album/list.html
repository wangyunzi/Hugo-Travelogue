{{ define "main" }}
<div class="post">
  <header class="post-header">
    <h1 class="post-title">{{ .Title }}</h1>
  </header>

  <article class="post-content">
    <style>
      ul.album-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }

      ul.album-list li {
        margin: 10px 0;
        display: inline-block;
        vertical-align: top;
        width: calc(33.333% - 20px);
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        transition: transform 0.3s;
        box-sizing: border-box;
      }

      ul.album-list li:hover {
        transform: scale(1.03);
      }

      ul.album-list a {
        text-decoration: none;
        color: inherit;
        display: block;
        height: 100%;
        font-size: 1em;
      }

      ul.album-list img {
        width: 100%;
        height: 150px;
        display: block;
        object-fit: cover;
        object-position: center;
      }

      ul.album-list h2 {
        font-size: 1em;
        margin: 10px;
        color: #333;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }

      ul.album-list p {
        font-size: 0.9em;
        margin: 0 10px 10px;
        color: #666;
      }

      @media (max-width: 768px) {
        ul.album-list li {
          width: calc(50% - 20px);
        }
      }

      @media (max-width: 480px) {
        ul.album-list li {
          width: calc(100% - 20px);
        }
      }
    </style>
    <ul class="album-list">
      {{ range .Pages.ByDate.Reverse }}
        {{ $cover := .Params.cover }}
        {{ if not $cover }}
          {{ $thumbs := $.Site.Params.default_thumbnails }}
          {{ if and $thumbs (gt (len $thumbs) 0) }}
            {{ $cover = index $thumbs (mod (now.Unix) (len $thumbs)) }}
          {{ end }}
        {{ end }}
        <li>
          <a href="{{ .RelPermalink }}">
            <img src="{{ $cover }}" alt="{{ .Title }}" loading="lazy">
            <h2>{{ .Title }}</h2>
            <p>{{ .Date.Format "2006年01月02日" }}</p>
          </a>
        </li>
      {{ end }}
    </ul>
  </article>
</div>
{{ end }}
